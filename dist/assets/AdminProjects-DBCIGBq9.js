var N=Object.defineProperty,j=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var k=(n,a,i)=>a in n?N(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i,x=(n,a)=>{for(var i in a||(a={}))P.call(a,i)&&k(n,i,a[i]);if(v)for(var i of v(a))L.call(a,i)&&k(n,i,a[i]);return n},m=(n,a)=>j(n,w(a));var y=(n,a,i)=>new Promise((t,s)=>{var o=d=>{try{u(i.next(d))}catch(g){s(g)}},b=d=>{try{u(i.throw(d))}catch(g){s(g)}},u=d=>d.done?t(d.value):Promise.resolve(d.value).then(o,b);u((i=i.apply(n,a)).next())});import{r as h,j as e,P as S,k as C,l as E,E as z}from"./vendor-DFO5Jmbo.js";import{p}from"./api-vXz7ElHN.js";import{M as D}from"./Modal-D9XuV0-K.js";import{I as M}from"./ImageUpload-CSofYKUZ.js";function A({isOpen:n,onClose:a,onSubmit:i,project:t}){const[s,o]=h.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",image:(t==null?void 0:t.image)||"",link:(t==null?void 0:t.link)||"",technologies:(t==null?void 0:t.technologies)||[],tags:(t==null?void 0:t.tags)||[],featured:(t==null?void 0:t.featured)||!1,githubLink:(t==null?void 0:t.githubLink)||"",demoLink:(t==null?void 0:t.demoLink)||""}),[b,u]=h.useState(!1),[d,g]=h.useState(""),f=r=>y(this,null,function*(){r.preventDefault(),u(!0),g("");try{yield i(s),a()}catch(l){g("Bir hata oluştu"),console.error(l)}finally{u(!1)}});return e.jsx(D,{isOpen:n,onClose:a,title:t?"Projeyi Düzenle":"Yeni Proje",children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Başlık"}),e.jsx("input",{type:"text",value:s.title,onChange:r=>o(m(x({},s),{title:r.target.value})),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Proje başlığı",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Açıklama"}),e.jsx("textarea",{value:s.description,onChange:r=>o(m(x({},s),{description:r.target.value})),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Proje açıklaması",rows:4,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Proje Görseli"}),e.jsx(M,{currentImage:s.image,onUpload:r=>o(m(x({},s),{image:r}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Proje Linki"}),e.jsx("input",{type:"url",value:s.link,onChange:r=>o(m(x({},s),{link:r.target.value})),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"GitHub Linki"}),e.jsx("input",{type:"url",value:s.githubLink,onChange:r=>o(m(x({},s),{githubLink:r.target.value})),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Demo Linki"}),e.jsx("input",{type:"url",value:s.demoLink,onChange:r=>o(m(x({},s),{demoLink:r.target.value})),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://demo...."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Teknolojiler (virgülle ayırın)"}),e.jsx("input",{type:"text",value:s.technologies.join(", "),onChange:r=>{const l=r.target.value.split(",").map(c=>c.trim()).filter(c=>c!=="");o(m(x({},s),{technologies:l}))},className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"React, TypeScript, Node.js",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Etiketler (virgülle ayırın)"}),e.jsx("input",{type:"text",value:s.tags.join(", "),onChange:r=>{const l=r.target.value.split(",").map(c=>c.trim()).filter(c=>c!=="");o(m(x({},s),{tags:l}))},className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Web, Frontend, Backend"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:s.featured,onChange:r=>o(m(x({},s),{featured:r.target.checked})),className:"w-4 h-4 text-blue-500 border-gray-700 rounded focus:ring-blue-500 focus:ring-offset-gray-900"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm font-medium text-gray-300",children:"Öne Çıkan Proje"})]}),d&&e.jsx("div",{className:"text-red-400 bg-red-500/10 p-3 rounded-lg text-sm",children:d}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-400 hover:text-gray-300 transition-colors",disabled:b,children:"İptal"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",disabled:b,children:b?"Kaydediliyor...":t?"Güncelle":"Ekle"})]})]})})}function O(){const[n,a]=h.useState([]),[i,t]=h.useState(!0),[s,o]=h.useState(""),[b,u]=h.useState(!1),[d,g]=h.useState(null),f=()=>y(this,null,function*(){try{t(!0);const l=yield p.getAll();a(l),o("")}catch(l){o("Projeler yüklenirken bir hata oluştu"),console.error(l)}finally{t(!1)}});h.useEffect(()=>{f()},[]);const r=l=>y(this,null,function*(){if(window.confirm("Bu projeyi silmek istediğinizden emin misiniz?"))try{yield p.delete(l),yield f()}catch(c){o("Proje silinirken bir hata oluştu"),console.error(c)}});return i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Projeler"}),e.jsxs("button",{onClick:()=>{g(null),u(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(S,{size:20}),"Yeni Proje"]})]}),s&&e.jsx("div",{className:"bg-red-500/10 text-red-400 p-4 rounded-lg",children:s}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(l=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-xl border border-gray-700/50 rounded-lg overflow-hidden hover:border-gray-600/50 transition-colors",children:[e.jsx("img",{src:l.image,alt:l.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:l.title}),e.jsx("p",{className:"text-gray-400 line-clamp-3",children:l.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.technologies.map(c=>e.jsx("span",{className:"px-2 py-1 bg-gray-700/50 text-gray-300 text-sm rounded",children:c},c))}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(l),u(!0)},className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Düzenle",children:e.jsx(C,{size:20})}),e.jsx("button",{onClick:()=>r(l.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",title:"Sil",children:e.jsx(E,{size:20})})]}),e.jsx("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Projeyi Görüntüle",children:e.jsx(z,{size:20})})]})]})]},l.id))}),e.jsx(A,{isOpen:b,onClose:()=>{u(!1),g(null)},onSubmit:l=>y(this,null,function*(){d?yield p.update(d.id,l):yield p.create(l),yield f()}),project:d===null?void 0:d})]})}export{O as AdminProjects};
