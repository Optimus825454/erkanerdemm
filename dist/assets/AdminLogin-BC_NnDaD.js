var f=(n,c,a)=>new Promise((u,m)=>{var g=t=>{try{r(a.next(t))}catch(l){m(l)}},o=t=>{try{r(a.throw(t))}catch(l){m(l)}},r=t=>t.done?u(t.value):Promise.resolve(t.value).then(g,o);r((a=a.apply(n,c)).next())});import{d as x,r as d,j as e,n as b}from"./vendor-DFO5Jmbo.js";import{a as p}from"./api-vXz7ElHN.js";function j(){const n=x(),[c,a]=d.useState(""),[u,m]=d.useState(""),[g,o]=d.useState(""),[r,t]=d.useState(!1);d.useEffect(()=>{localStorage.getItem("adminToken")&&n("/admin")},[n]);const l=s=>f(this,null,function*(){s.preventDefault(),t(!0),o("");try{const{token:i}=yield p.login({username:c,password:u});if(!i||typeof i!="string")throw new Error("Geçersiz token");localStorage.setItem("adminToken",i),localStorage.setItem("adminAuthenticated","true"),localStorage.setItem("tokenExpiry",(Date.now()+24*60*60*1e3).toString()),n("/admin",{replace:!0})}catch(i){o("Geçersiz kullanıcı adı/şifre veya bir hata oluştu"),console.error(i),localStorage.removeItem("adminToken"),localStorage.removeItem("adminAuthenticated"),localStorage.removeItem("tokenExpiry")}finally{t(!1)}});return e.jsx("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-gray-900 to-gray-800",children:e.jsx("div",{className:"flex-grow flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full backdrop-blur-lg bg-white/10 rounded-xl shadow-2xl p-8 border border-gray-700",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"p-4 bg-blue-500/20 rounded-full",children:e.jsx(b,{className:"w-8 h-8 text-blue-400"})})}),e.jsx("h2",{className:"text-center text-3xl font-bold text-white mb-8",children:"Admin Girişi"}),e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Kullanıcı Adı"}),e.jsx("input",{type:"text",id:"username",value:c,onChange:s=>{a(s.target.value),o("")},className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Kullanıcı Adınızı Giriniz",required:!0,disabled:r})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Şifre"}),e.jsx("input",{type:"password",id:"password",value:u,onChange:s=>{m(s.target.value),o("")},className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Şifreyi giriniz",required:!0,disabled:r})]}),g&&e.jsx("div",{className:"text-red-400 text-sm text-center bg-red-900/20 py-2 px-4 rounded-lg",children:g}),e.jsx("button",{type:"submit",className:`w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-blue-500 text-white text-lg font-medium rounded-lg hover:from-blue-700 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 transition duration-200 ${r?"opacity-50 cursor-not-allowed":""}`,disabled:r,children:r?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Giriş yapılıyor..."]}):"Giriş Yap"})]})]})})})}export{j as AdminLogin};
